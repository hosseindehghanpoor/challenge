user           = "administrator@vcenter.sivan.local"
password       = "SivanLand@13400"
vsphere_server = "vcenter.sivan.local"

# Defaults (used if a VM item doesn't override)
datacenter     = "zimafarda"
datastore      = "SSD - 223 - Server"
resource_pool  = "RS2"
template       = "ubuntu24-template"
network        = "VM Network"
disk_size      = 50

# Define multiple VMs
vms = [
{% for host in groups['all'] | sort %}
  {
    name            = "{{ hostvars[host].name | default(host) }}"
    cpus            = {{ (hostvars[host].num_cpus | default(hostvars[host].cpus | default(1))) | int }}
    memory          = {{ hostvars[host].memory | default(1024) | int }}
    cloud_init_file = "{{ hostvars[host].cloud_init_file | default('./cloud-init-dir/cloud-init-' ~ host ~ '.yml') }}"
    disk_size       = {{ hostvars[host].disk_size | default(50) | int }}
  }{% if not loop.last %},{% endif %}
{% endfor %}
]
